

There is an option on git clone to specify the folder you want to clone into.
Using that in cyber-dojo servers docker run command

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Don' use git-daemon-export-all
Stick to git-daemon-export-ok per repo.
This is because on a rails-git shared server I want
to ensure the repo for cyber-dojo itself is not
available to clone from the cyber-dojo server!

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

docker info
reveals
WARNING: No memory limit support
WARNING: No swap limit support
Shame.
Looking at https://wiki.debian.org/LXC#Setup_networked_containers
$ apt-get install -y lxc
Now I can do
$ lxc-checkconfig


Edited /etc/default/grub
From
GRUB_CMDLINE_LINUX_DEFAULT="consoleblank=0 xencons=hvc0 console=hvc0"
GRUB_CMDLINE_LINUX=
To
GRUB_CMDLINE_LINUX_DEFAULT="consoleblank=0 xencons=hvc0 console=hvc0 cgroup_enable=memory swapaccount=1"
GRUB_CMDLINE_LINUX=

$ update-grub2
$ update-grub
$ reboot
$ docker info
Still no memory/swap


cd /boot/grub
ls
cat grub.cfg

Says it takes settings from /etc/default/grub but it doesn't appear to have.
Says it is automatically generated by grub-mkconfig using templates
Contains line
kernel /boot/vmlinuz-3.16.0-4-amd64 root=/dev/xvda1 ro
$ cat config-3.16.0-4-amd64
Lots of settings
$ cat CGROUP config-3.16.0-4-amd64
They all seem to be on.

https://github.com/turnkeylinux-apps/lxc/blob/master/overlay/etc/default/grub
confirms I seem to be doing the right thing

Could it be a hypervisor issue?








